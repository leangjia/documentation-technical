<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <title>工作流 &mdash; odoo 9.0 文档</title>
    
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/patchqueue.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/patchqueue.js"></script>
    <script type="text/javascript" src="../_static/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/doc.js"></script>
    <script type="text/javascript" src="../_static/jquery.noconflict.js"></script>
    <link rel="top" title="odoo 9.0 文档" href="../index.html" />
    <link rel="up" title="参考" href="../reference.html" />
    <link rel="next" title="Odoo指南" href="guidelines.html" />
    <link rel="prev" title="QWeb报告" href="reports.html" /> 
  </head>
  <body role="document"><header class="o_main_header o_has_sub_nav o_inverted ">
    <div class="o_main_header_main">
      <a class="pull-left o_logo" href="/"></a>
      <a href="#" class="o_mobile_menu_toggle visible-xs-block pull-right">
        <span class="sr-only">Toggle navigation</span>
        <span class="mdi-navigation-menu"></span>
      </a>
      <div class="o_header_buttons">
        <a href="http://www.odoo.com/trial" class="btn btn-primary">Start Now</a>
      </div>
      <ul class="o_primary_nav">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle">Apps</a>
          <div class="dropdown-menu o_secondary_nav">
            <div class="container">
              <div class="row">
                <div class="col-sm-3 o_website_apps">
                  <div class="o_nav_app_family">
                    <span></span> Websites
                    <div>Build great user experience</div>
                  </div>
                  <ul>
                    <li><a href="https://www.odoo.com/page/website-builder">Website Builder</a></li>
                    <li><a href="https://www.odoo.com/page/e-commerce">eCommerce</a></li>
                    <li><a href="https://www.odoo.com/page/blog-engine">Blogs</a></li>
                    <li><a href="https://www.odoo.com/page/community-builder">Forums</a></li>
                    <li><a href="https://www.odoo.com/page/slides">Slides</a></li>
                    <li><a href="https://adspike.odoo.com">SEA</a></li>
                  </ul>
                </div>
                <div class="col-sm-3 o_sale_apps">
                  <div class="o_nav_app_family">
                    <span></span> Sales
                    <div>Boost your success rate</div>
                  </div>
                  <ul>
                    <li><a href="https://www.odoo.com/page/sales">Sales</a></li>
                    <li><a href="https://www.odoo.com/page/crm">CRM</a></li>
                    <li><a href="https://www.odoo.com/page/billing">Invoicing</a></li>
                    <li class="dropdown">
                      <a href="#0" class="dropdown-toggle">Point of Sale</a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/point-of-sale">Shops</a></li>
                        <li><a href="https://www.odoo.com/page/pos-restaurant">Restaurants</a></li>
                      </ul>
                    </li>
                    <li><a href="https://www.odoo.com/page/subscriptions">Subscriptions</a></li>
                    <li><a href="https://www.odoo.com/page/sign">Sign</a></li>
                  </ul>
                </div>
                <div class="col-sm-3 o_operation_apps">
                  <div class="o_nav_app_family">
                    <span></span> Operations
                    <div>It's all about efficiency</div>
                  </div>
                  <ul>
                    <li><a href="https://www.odoo.com/page/accounting/">Accounting</a></li>
                    <li><a href="https://www.odoo.com/page/project-management/">Project</a></li>
                    <li class="dropdown">
                      <a href="#0" class="dropdown-toggle">Human Resources</a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/recruitment">Recruitment</a></li>
                        <li><a href="https://www.odoo.com/page/employees">Employees</a></li>
                        <li><a href="https://www.odoo.com/page/expenses">Expenses</a></li>
                        <li><a href="https://www.odoo.com/page/appraisal">Appraisal</a></li>
                        <li><a href="https://www.odoo.com/page/fleet">Fleet</a></li>
                        <li><a href="https://www.odoo.com/page/leaves">Leaves</a></li>
                      </ul>
                    </li>
                    <li><a href="https://www.odoo.com/page/warehouse">Inventory</a></li>
                    <li><a href="https://www.odoo.com/page/purchase">Purchase</a></li>
                    <li class="dropdown">
                      <a href="#0" class="dropdown-toggle">Manufacturing</a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/manufacturing">MRP</a></li>
                        <li><a href="https://www.odoo.com/page/plm">PLM</a></li>
                        <li><a href="https://www.odoo.com/page/maintenance">Maintenance</a></li>
                        <li><a href="https://www.odoo.com/page/quality">Quality</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
                <div class="col-sm-3 o_productivity_apps">
                  <div class="o_nav_app_family">
                    <span></span> Productivity Tools
                    <div>Great Tools = Happy People</div>
                  </div>
                  <ul>
                    <li class="dropdown">
                      <a href="#0" class="dropdown-toggle">Communication</a>
                      <ul>
                        <li><a href="https://www.odoo.com/page/discuss">Discuss</a></li>
                        <li><a href="https://www.odoo.com/page/discuss-groups">Mailing Lists</a></li>
                        <li><a href="https://www.odoo.com/page/notes">Notes</a></li>
                        <li><a href="#">Help desk</a></li>
                        <li><a href="#">Appointment</a></li>
                      </ul>
                    </li>
                    <li><a href="https://www.odoo.com/page/timesheet">Timesheet</a></li>
                    <li><a href="https://www.odoo.com/page/email-marketing">Email Marketing</a></li>
                    <li><a href="https://www.odoo.com/page/events">Events</a></li>
                    <li><a href="https://www.odoo.com/page/survey">Survey</a></li>
                    <li><a href="https://www.odoo.com/page/live-chat">Live Chat</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <a href="http://www.odoo.com/apps/modules" class="o_store_link"><i class="fa fa-cube fa-fw"></i> Third party apps</a>
          </div>
        </li>
        <li><a href="https://www.odoo.com/page/tour">Tour</a></li>
        <li><a href="https://www.odoo.com/pricing">Pricing</a></li>
        <li><a href="https://www.odoo.com/page/docs">Docs</a></li>
      </ul>
    </div>
    <nav class="navbar o_sub_nav">
      <div class="container">
        <div class="navbar-header visible-xs">
            <button type="button" class="navbar-toggle collapsed text-left btn-block" data-toggle="collapse" data-target="#o_sub-menu" aria-expanded="false">
              Navigate
              <span class="mdi-hardware-keyboard-arrow-down pull-right"></span>
            </button>
        </div>

        <div class="collapse navbar-collapse" id="o_sub-menu">
          <ol class="o_breadcrumb breadcrumb nav navbar-left">
              
              





    
        
            <li><a href="../index.html">Developer Doc</a></li>
        
    
    <li class="active"><a href="#">工作流</a></li>

              
          </ol>

          <div class="call-to-action navbar-right hidden-xs">
            <a href="http://www.odoo.com/trial" class="btn btn-primary">Start Now</a>
          </div>

          <ul class="navbar-nav navbar-right nav o_sub_nav_actions">
            
              <li class="divider"></li>
            

            
            


            
          </ul>

          <ul class="nav navbar-nav navbar-right">
            

            
            

<li><a href="http://www.odoo.com/documentation/user/9.0/index.html">User</a></li>
<li><a href="http://www.odoo.com/documentation/9.0/index.html">Developer</a></li>
<li><a href="http://www.odoo.com/documentation/9.0/api_integration.html">API</a></li>
<li><a href="http://www.odoo.com/documentation/9.0/setup/install.html">Installation</a></li>
<li><a href="http://www.odoo.com/page/odoo-white-paper">White Papers</a></li>
<li><a href="http://www.odoo.com/page/legal">Legal</a></li>
            

            
          </ul>
        </div>
      </div>
    </nav>
  </header><div id="wrap" class="">
    
    
    
    <figure class="card top has_banner">
      <span class="card-img" style="background-image: url('../_static/banners/installing_odoo.jpg');"></span>
      <div class="container text-center">
        <h1> 工作流 </h1>
      </div>
    </figure>
    
    
    
    <div class="container ">
      <main class="container-fluid ">
        
        <div class="row">
          
          <aside>
            <div class="navbar-aside text-center">
              <ul class="list-group text-left nav"><li class="list-group-item"><a href="#basics" class="ripple internal reference">基础知识</a></li><li class="list-group-item"><a href="#activities" class="ripple internal reference">活动</a><ul ><li class="list-group-item"><a href="#flow-start-and-flow-stop" class="ripple internal reference">流程启动和流程停止</a></li><li class="list-group-item"><a href="#subflow" class="ripple internal reference">子流程</a></li><li class="list-group-item"><a href="#sending-a-signal-from-a-subflow" class="ripple internal reference">从子流程发送信号</a></li><li class="list-group-item"><a href="#server-actions" class="ripple internal reference">服务器动作</a></li><li class="list-group-item"><a href="#python-action" class="ripple internal reference">Python动作</a></li><li class="list-group-item"><a href="#split-mode" class="ripple internal reference">分离模式</a></li><li class="list-group-item"><a href="#join-mode" class="ripple internal reference">加盟模式</a></li><li class="list-group-item"><a href="#kinds" class="ripple internal reference">种类</a></li></ul></li><li class="list-group-item"><a href="#transitions" class="ripple internal reference">转换</a><ul ><li class="list-group-item"><a href="#conditions" class="ripple internal reference">条件</a></li><li class="list-group-item"><a href="#signals" class="ripple internal reference">信号</a></li><li class="list-group-item"><a href="#triggers" class="ripple internal reference">触发器</a></li></ul></li></ul>
              
              <p class="gith-container"><a href="https://github.com/odoo/odoo/edit/9.0/doc/reference/workflows.rst" class="gith-link">
                  Edit on GitHub
              </a></p>
              
            </div>
          </aside>
          
          <article class="doc-body ">
            
            
  <section id="workflows"><i id="reference-workflows"></i><p >In Odoo, a workflow is a technical artefact to manage a set of &quot;things to
do&quot; associated to the records of a model. The workflow provides a higher-level
way to organize tasks to perform with or on a record.</p><p >More specifically, a workflow is a directed graph where the nodes are called
&quot;activities&quot; and the arcs are called &quot;transitions&quot;.</p><ul ><li ><p >活动定义应该在Odoo服务器内进行，比如改变一些记录状态，或发送电子邮件的工作。</p></li><li ><p >转换控制工作流程，从活动如何进展到活动。</p></li></ul><p >In the definition of a workflow, one can attach conditions, signals, and
triggers to transitions, so that the behavior of the workflow depends on user
actions (such as clicking on a button), changes to records, or arbitrary
Python code.</p><p >All in all, Odoo's workflow system provides:</p><ul ><li >a description of the evolution of a record (document) over time</li><li ><p >基于各种灵活的条件自动操作</p></li><li ><p >公司的角色和验证步骤的管理</p></li><li ><p >管理对象之间的交互</p></li><li ><p >文件的可视化表示流经它们的生命周期</p></li></ul><p >For instance, a basic order could have the following flow:</p><img src="../_images/order_0.svg" class="img-responsive center-block"><p >Orders start in the <em >Draft</em> state, can be <em >Confirmed</em> by a user, and then
either shipped (<em >Closed</em>) or <em >Canceled</em>.</p><p >A company using Odoo may want to add discount support to orders, where sales
staff has discretionary discounting powers up to 15%, but manager validation
is required for discounts beyond 15%. The workflow can be altered online to
add the relevant steps without editing Python or XML files:</p><img src="../_images/order_1.svg" class="img-responsive center-block"><p >Because Activities can perform arbitrary actions, the <em >Validation</em> can
automatically send a validation request to the relevant employee.</p><div role="alert" class="alert-info alert"><p class="alert-title">注解</p><p >the order view needs to be modified to add an <em >Accept Discount</em>
button for managers</p></div></section><section id="basics"><h2 >基础知识</h2><p >Defining a workflow with data files is straightforward: a record &quot;workflow&quot; is
given together with records for the activities and the transitions. For
instance, here is a simple sequence of two activities defined in XML</p><div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">&quot;test_workflow&quot;</span> <span class="na">model=</span><span class="s">&quot;workflow&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>test.workflow<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;osv&quot;</span><span class="nt">&gt;</span>test.workflow.model<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;on_create&quot;</span><span class="nt">&gt;</span>True<span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>

<span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">&quot;activity_a&quot;</span> <span class="na">model=</span><span class="s">&quot;workflow.activity&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;wkf_id&quot;</span> <span class="na">ref=</span><span class="s">&quot;test_workflow&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;flow_start&quot;</span><span class="nt">&gt;</span>True<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>a<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;kind&quot;</span><span class="nt">&gt;</span>function<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;action&quot;</span><span class="nt">&gt;</span>print_a()<span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>
<span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">&quot;activity_b&quot;</span> <span class="na">model=</span><span class="s">&quot;workflow.activity&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;wkf_id&quot;</span> <span class="na">ref=</span><span class="s">&quot;test_workflow&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;flow_stop&quot;</span><span class="nt">&gt;</span>True<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>b<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;kind&quot;</span><span class="nt">&gt;</span>function<span class="nt">&lt;/field&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;action&quot;</span><span class="nt">&gt;</span>print_b()<span class="nt">&lt;/field&gt;</span>
<span class="nt">&lt;/record&gt;</span>

<span class="nt">&lt;record</span> <span class="na">id=</span><span class="s">&quot;trans_a_b&quot;</span> <span class="na">model=</span><span class="s">&quot;workflow.transition&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;act_from&quot;</span> <span class="na">ref=</span><span class="s">&quot;activity_a&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;act_to&quot;</span> <span class="na">ref=</span><span class="s">&quot;activity_b&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;signal&quot;</span><span class="nt">&gt;</span>signal_goto_b<span class="nt">&lt;/signal&gt;</span>
<span class="nt">&lt;/record&gt;</span>
</pre></div>
</div>
<p >A worfklow is always defined with respect to a particular model (the model is
given by the attribute <code >osv</code> on the model <code >workflow</code>). Methods specified
in the activities or transitions will be called on that model.</p><p >In the example code above, a workflow called &quot;test_workflow&quot; is created. It is
made up of two activies, named &quot;a&quot; and &quot;b&quot;, and one transition, going from &quot;a&quot;
to &quot;b&quot;.</p><p >The first activity has its attribute <code >flow_start</code> set to <code >True</code> so that
Odoo knows where to start the workflow traversal after it is instanciated.
Because <code >on_create</code> is set to True on the workflow record, the workflow is
instanciated for each newly created record. (Otherwise, the workflow should be
instanciated by other means, such as from some module Python code.)</p><p >When the workflow is instanciated, it begins with activity &quot;a&quot;. That activity
is of kind <code >function</code>, which means that the action <code >print_a()</code> is a method
call on the model <code >test.workflow</code> (the usual <code >cr, uid, ids, context</code>
arguments are passed for you).</p><p >The transition between &quot;a&quot; and &quot;b&quot; specify a signal but not any condition. This
means the workflow instance will immediately transition from &quot;a&quot; to &quot;b&quot; when the
signal <code >signal_goto_b</code> is recieved and thus processes activity &quot;b&quot;'s action
<code >print_b()</code>.</p></section><section id="activities"><h2 >活动</h2><p >虽然转换可以看作是工作流的控制结构，活动是在那里发生的一切，更改记录状态，以发送电子邮件。</p><p >Different kinds of activities exist: <code >Dummy</code>, <code >Function</code>, <code >Subflow</code>, and
<code >Stop all</code>, each doing different things when the activity is processed. In
addition to their kind, activies have other properties, detailed in the next
sections.</p></section><section id="flow-start-and-flow-stop"><h3 >流程启动和流程停止</h3><p >属性``flow_start``是一个布尔值，指明是否当工作流实例化活动进行处理。多活动可以有自己的属性``flow_start``设置值为``True``。当为记录instanciating工作流程，Odoo只是处理所有这些，并评估所有的输出转移之后。</p><p >属性``flow_stop``是一个布尔值，指定活动是否停止工作流实例。工作流实例被认为是当所有的活动属性``flow_stop``设置值为``True``完成完成。</p><p >It is important for Odoo to know when a workflow instance is completed. A
workflow can have an activity that is actually another workflow (called a
subflow); that activity is completed when the subflow is completed.</p></section><section id="subflow"><h3 >子流程</h3><p >An activity can embed a complete workflow, called a subflow (the embedding
workflow is called the parent workflow). The workflow to instanciate is
specified by attribute <code >subflow_id</code>.</p><div role="alert" class="alert-info alert"><p class="alert-title">注解</p><p >在GUI中，该属性不能被设置，除非那种活性是``Subflow``。</p></div><p >The activity is considered completed (and its outgoing transitions ready to be
evaluated) when the subflow is completed (see attribute <code >flow_stop</code> above).</p></section><section id="sending-a-signal-from-a-subflow"><h3 >从子流程发送信号</h3><p >When a workflow is embedded in an activity (as a subflow) of a workflow, the
sublow can send a signal from its own activities to the parent workflow by
giving a signal name in the attribute <code >signal_send</code>. Odoo processes those
activities by sending the value of <code >signal_send</code> prefixed by &quot;subflow.&quot;  to
the parent workflow instance.</p><p >换句话说，有可能作出反应，并作为活动是以sublow执行获得在父工作流程的转换。</p></section><section id="server-actions"><h3 >服务器动作</h3><p >动作可以通过在属性``action_id`` 指定ID 来运行 &quot;服务器动作&quot;.</p></section><section id="python-action"><h3 >Python动作</h3><p >一个活动可以执行一些Python代码，由属性``action``给出。评估环境是相同的，在部分`Conditions`_所述一个说明。</p></section><section id="split-mode"><h3 >分离模式</h3><p >后的活性已被处理，Odoo评价其过渡到到达下一个活动中的流动。</p><p >但是，如果一个活动有多个转变，Odoo必须决定要遵循哪些活动或活动。</p><img src="../_images/split.svg" class="img-responsive center-block"><p >This choice is controlled by the <code >split_mode</code> attribute:</p><dl ><dt ><code >XOR</code> (default)</dt><dd >By default, Odoo will use the first transition (in <code >sequence</code> order)
whose condition is satisfied. All other transitions are ignored.</dd><dt ><code >OR</code></dt><dd ><p >在``OR``模式，所有满足条件的转换同时遍历。无效的转换将被忽略，即使他们之后可能会变成合法的。</p></dd><dt ><code >AND</code></dt><dd ><p >在 <code >AND</code> 模式, Odoo 将会等待直到*所有* 转换都以满足, 并将会遍历所有的转换 (有些像 <code >OR</code> 模式).</p></dd></dl><p >两个``OR``和``AND``模式将导致活动是活跃在相同的工作流程。</p></section><section id="join-mode"><h3 >加盟模式</h3><p >就像向外的转移条件可被组合在一起，以决定它们是否可以遍历或没有，进入转移可以结合在一起，以决定是否以及何时活动可被处理。</p><img src="../_images/join.svg" class="img-responsive center-block"><p >The <code >join_mode</code> attribute controls that behavior:</p><dl ><dt ><code >XOR</code> (default)</dt><dd ><p >任何传入的转换启用活动，并开始它的处理。</p></dd><dt ><code >AND</code></dt><dd >The activity is enabled and processed only once <em >all</em> incoming transitions
have been traversed.</dd></dl></section><section id="kinds"><h3 >种类</h3><p >一个活动的一种定义工作的一个活动可以执行的任务类型。</p><dl ><dt >Dummy (<code >dummy</code>, default)</dt><dd ><p >什么也不做, 或者调用服务器动作.  通常用作分发，或做为转换的收集&quot;hub&quot;.</p></dd><dt >Function (<code >function</code>)</dt><dd ><p >运行Python代码，执行服务器动作。</p></dd><dt >Stop all (<code >stopall</code>)</dt><dd ><p >完全停止工作流实例并将其标记为已完成。</p></dd><dt >Subflow (<code >subflow</code>)</dt><dd ><p >开始执行的其他工作流，一旦工作流完成时进行处理的活动。</p><p >By default, the subflow is instanciated for the same record as the parent
workflow. It is possible to change that behavior by providing Python code
that returns a record ID (of the same data model as the subflow). The
embedded subflow instance is then the one of the given record.</p></dd></dl></section><section id="transitions"><h2 >转换</h2><p >Transitions provide the control structures to orchestrate a workflow. When an
activity is completed, the workflow engine tries to get across transitions
departing from the completed activity, towards the next activities. In their
simplest form (as in the example above), they link activities sequentially:
activities are processed as soon as the activities preceding them are
completed.</p><p >而不是运行一举所有活动，它也有可能等待过渡，经过他们只有在满足某些条件​​。标准的条件是，信号，和所述触发器。它们在以下部分中详细说明。</p></section><section id="conditions"><h3 >条件</h3><p >When an activity has been completed, its outgoing transitions are inspected to
determine whether it is possible for the workflow instance to proceed through
them and reach the next activities. When only a condition is defined (i.e., no
signal or trigger is defined), the condition is evaluated by Odoo, and if
it evaluates to <code >True</code>, the worklfow instance progresses through the
transition.  If the condition is not met, it will be reevaluated every time
the associated record is modified, or by an explicit method call to do it.</p><p >By default, the attribute <code >condition</code> (i.e., the expression to be evaluated)
is just &quot;True&quot;, which trivially evaluates to <code >True</code>. Note that the condition
may be several lines long; in that case, the value of the last one determines
whether the transition can be taken.</p><p >In the condition evaluation environment, several symbols are conveniently
defined (in addition to the Odoo <code >safe_eval</code> environment):</p><ul ><li ><p >所有型号的列名，和</p></li><li ><p >浏览记录的所有属性</p></li></ul></section><section id="signals"><i id="reference-workflows-signals"></i><h3 >信号</h3><p >除了一个条件，过渡可以指定信号名称。当这种信号的名字出现，过渡不采取直接，即使条件为值为``True``。取而代之的是过渡块，等待被唤醒。</p><p >In order to wake up a transition with a defined signal name, the signal must
be sent to the workflow instance. A common way to send a signal is to use a
button in the user interface, using the element <code >&lt;button/&gt;</code> with the signal
name as the attribute <code >name</code> of the button. Once the button is clicked, the
signal is sent to the workflow instance of the current record.</p><div role="alert" class="alert-info alert"><p class="alert-title">注解</p><p >当该信号被发送到工作流实例中的条件仍然是评价。</p></div></section><section id="triggers"><h3 >触发器</h3><p >With conditions that evaluate to <code >False</code>, transitions are not taken (and
thus the activity it leads to is not processed immediately). Still, the
workflow instance can get new chances to progress across that transition by
providing so-called triggers. The idea is that when the condition is not
satisfied, triggers are recorded in database. Later, it is possible to wake up
specifically the workflow instances that installed those triggers, offering
them to reevaluate their transition conditions. This mechanism makes it
cheaper to wake up workflow instances by targetting just a few of them (those
that have installed the triggers) instead of all of them.</p><p >Triggers are recorded in database as record IDs (together with the model name)
and refer to the workflow instance waiting for those records. The transition
definition provides a model name (attribute <code >trigger_model</code>) and a Python
expression (attribute <code >trigger_expression</code>) that evaluates to a list of
record IDs in the given model. Any of those records can wake up the workflow
instance they are associated with.</p><div role="alert" class="alert-info alert"><p class="alert-title">注解</p><p >转换器没有重试之前，触发器是不会重新安装的。</p></div></section>

          </article>
        </div>
        
        <div id="mask"></div>
      </main>
    </div>
  </div>

  <div class="floating_action_container">
    <a id="floating_action" class="ripple" href="#">
      <i class="mdi-action-explore"></i>
    </a>
    <div id="floating_action_menu">
      <span class="bubble"></span>
      <ul class="list-group content">
        <li class="list-group-item ripple"><a>Cras justo odio</a></li>
        <li class="list-group-item ripple"><a>Dapibus ac facilisis in</a></li>
        <li class="list-group-item ripple"><a>Morbi leo risus</a></li>
        <li class="list-group-item ripple"><a>Porta ac consectetur ac</a></li>
        <li class="list-group-item ripple"><a>Vestibulum at eros</a></li>
      </ul>
    </div>
  </div>
  <footer>
    <div id="footer" class="container">
      <span class="o_logo o_logo_inverse center-block o_footer_logo"></span>
      <div class="row">
        <div class="col-sm-7 col-md-7 col-lg-6">
          <div class="row">
            <div class="col-xs-6 col-sm-4">
              <span class="menu_title">Community</span>
              <ul>
                <li><a href="https://github.com/odoo/odoo">Github</a></li>
                <li><a href="http://www.odoo.com/page/download">Download</a></li>
                <li class="divider"></li>
                <li><a href="http://runbot.odoo.com/runbot/repo/git-github-com-odoo-enterprise-7">Runbot</a></li>
                <li><a href="https://github.com/odoo/odoo/wiki/Translations">Translations</a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/page/odoo-community">Mailing Lists</a></li>
                <li><a href="http://www.odoo.com/forum/help-1">Forum</a></li>
              </ul>
            </div>
            <div class="col-xs-6 col-sm-4">
              <span class="menu_title">Services</span>
              <ul>
                <li><a href="http://www.odoo.com/pricing">Editions</a></li>
                <li><a href="http://www.odoo.com/pricing-online">Cloud Pricing</a></li>
                <li><a href="http://www.odoo.com/page/upgrade">Upgrade</a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/partners">Find a partner</a></li>
                <li><a href="http://www.odoo.com/page/become-a-partner">Become a partner</a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/page/education-program">Education</a></li>
                <li class="divider"></li>
                <li><a href="http://www.odoo.com/page/security">Security</a></li>
              </ul>
            </div>
            <div class="col-sm-4 mb64">
              <span class="menu_title">About us</span>
              <ul>
                <li><a href="http://www.odoo.com/page/about-us">Our company</a></li>
                <li><a href="http://www.odoo.com/page/contactus">Contact</a></li>
                <li class="divider" />
                <li><a href="http://www.odoo.com/event">Events</a></li>
                <li><a href="http://www.odoo.com/blog/">Blog</a></li>
                <li><a href="http://www.odoo.com/blog/6">Customers</a></li>
                <li class="divider" />
                <li><a href="http://www.odoo.com/jobs">Jobs</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-sm-5 col-md-4 col-md-offset-1 col-lg-5 col-lg-offset-1">
          <p>
            <small>
              Odoo is a suite of open source business apps that cover all your company needs: CRM, eCommerce, accounting, inventory, point of sale, project management, etc.
              <br/><br/>
              Odoo's unique value proposition is to be at the same time very easy to use and fully integrated.
            </small>
          </p>
        </div>
      </div>
    </div>
    <div class="o_footer_bottom">
      <div class="container">
        <a class="small" href="http://www.odoo.com/page/website-builder">Website made with <span class="o_logo o_logo_inverse o_logo_15"></span></a>
        <div class="social-links pull-right">
          <a href="http://www.odoo.com/web/about/facebook"><i class="fa fa-facebook"></i></a>
          <a href="http://www.odoo.com/web/about/twitter"><i class="fa fa-twitter"></i></a>
          <a href="http://www.odoo.com/web/about/linkedin"><i class="fa fa-linkedin"></i></a>
          <a href="mailto:info@odoo.com"><i class="fa fa-envelope"></i></a>
        </div>
      </div>
    </div>
  </footer>
  </body>
</html>